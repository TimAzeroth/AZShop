<!DOCTYPE html>
<html lang="ko"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns:th="http://www.thymeleaf.org">

<!--<script th:unless="${id}">-->
<!--  alert("로그인이 안되어있습니다.");-->
<!--  history.back();-->
<!--</script>-->

<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
    <link rel="stylesheet" th:href="@{/css/sales.css}" type="text/css">
    <script th:src="@{/js/sales.js}"></script>
    <title>Sales</title>
</head>


<body>
<div id="salesdiv">
    <h1 class="header1">주문 / 결제</h1>
    <hr>
    <form id="salesForm">
        <h2 class="header2">구매자 정보</h2>
        <table>
            <tr>
                <td class="table_left_td1">ID</td>
                <td th:text="${u_username}">
                </td>
            </tr>
            <tr>
                <td class="table_left_td1">닉네임</td>
                <td th:text="${nickname}"></td>
            </tr>
            <tr>
                <td class="table_left_td1">이메일</td>
                <td th:text="${email}">내용</td>
            </tr>
            <tr>
                <td class="table_left_td1">휴대폰 번호</td>
                <td th:text="${phone}">내용</td>
            </tr>
        </table>

        <h2 class="header2">배송지 정보</h2>
        <div id="addressImp" th:each="post, i : ${add}">

               <a th:id="'addressbtn'+${i.count}" class="btn btn-outline-dark" th:text="${post.address_name}">집 명칭</a>

            <table class="addressImpTb" th:id="'addresstable' + ${i.count}">
                <tr>
                    <td class="table_left_td2">배송주소</td>
                    <td>
                        <p th:text="${post.address}" th:id="'postAddressImp'+ ${i.count}"></p>
                        <p th:text="${post.address_detail}" th:id="'postAddressDeValue' + ${i.count}"></p>
                        <p th:text="${post.postcode}" th:id="'postCode' + ${i.count}"></p>
                    </td>
                </tr>
            </table>
        </div>

        <h2 class="header2">결제 정보</h2>
        <form method="post" th:action="@{/siteSales/sales}" enctype="application/x-www-form-urlencoded">
            <input type="hidden" id="userId" th:value="${u_username}">
            <input type="hidden" id="addressValue" />
            <input type="hidden" id="addressDeValue"/>
            <input type="hidden" id="addPostcode"/>
            <table>
                <tr>
                    <td class="table_left_td3">총 상품 가격</td>
                    <td id="amount" th:value="${amount}">내용</td>
                </tr>
                <tr>
                    <td class="table_left_td3">배송비</td>
                    <td>3000원</td>
                </tr>
                <tr>
                    <td class="table_left_td3">총 결제 금액</td>
                    <td>내용</td>
                </tr>
                <tr>
                    <td class="table_left_td3">배송 요청사항</td>
                    <td>
                        <input id="deliveryreq" type="text" th:value="${deliveryreq}"/>
                    </td>
                </tr>
                <tr>
                    <td class="table_left_td3">신용/체크카드 결제</td>
                    <td id="inputCardNum">
                        <div class="cardnum">
                            <h6>카드번호</h6>
                            <input id="cardnum" style="width: 150px;" type="text" th:value="${cardnum}"/>
                        </div>
                        <div class="cardnum">
                            <h6>유효 기간</h6>
                            <input id="c_year" class="period" style="width: 60px;" type="text" th:value="${c_year}"/>
                            <input id="c_month" class="period" style="width: 60px;" type="text" th:value="${c_month}"/>
                        </div>
                        <div class="cardnum">
                            <h6>CVC</h6>
                            <input id="c_cvc" style="width: 150px;" type="text" th:value="${c_cvc}"/>
                        </div>
                    </td>
                </tr>
            </table>

            <div id="salesbtn">
                <a class="btn btn-outline-dark" id="backBtn">돌아가기</a>
                <button type="submit" class="btn btn-outline-dark">결제하기</button>
            </div>
        </form>

    </form>

</div>

</body>


</html>